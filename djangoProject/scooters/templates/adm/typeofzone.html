{% extends 'adm/index.html' %}
{% load static %}
{% block content_header %}

<div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">{{name}}</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">{% block content_header_breadcrumb %}ScooterADM{% endblock %}</a></li>
              <li class="breadcrumb-item active">{{name}}</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>

{% endblock %}

{% block main_content.html %}
<style>
body {font-family: "Lato", sans-serif;}
.tablink {
    background-color: #555;
    color: white;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    font-size: 17px;
    width: 20%;
}
.tablink:hover {
    background-color: #777;
}
/* Style the tab content */
.tabcontent {
    color: black;
    background-color:#f4f6f9;
    width: 100%;
    padding:10px;
    border: solid 1px black;
    border-radius: 5px;
    float:left;
    margin-top: 5px;
    display: none;
    text-align: left;
    }
</style>
</head>
<body>
<div style="padding: 10px;">
<div>
{% for el in typezone %}
<button class="tablink" onclick="openZone('{{el.TypeZone}}', this, '{{el.ColorZone}}')" id="defaultOpen">{{el.TypeZone}}</button>
{% endfor%}
</div>
  <div id="{{typezone.0}}" class="tabcontent">
      <div>
        <form name="ZoneredactorForm" method="post">
          {% csrf_token %}
          <div style="float: left width: 100%;">
            <input id="{{typezone.0}}" type="text" name="TypeZone" readonly  value="{{typezone.0}}" style="border: none;font-size: 21pt;background-color:#f4f6f9">
          <hr />
          </div>
          <div style="float: left; width: 30%;">
            <input type="checkbox" id="CanYouParkingOnThisArea{{typezone.0}}" name="CanYouParkingOnThisArea">Парковка разрешена
          </div>
          <div style="float: left; width: 70%;">
            <input type="checkbox" id="CanYouScooterOnThisArea{{typezone.0}}" name="CanYouScooterOnThisArea">Поездка разрешена
          </div>

          <div>
            Описание:<br>
            <input type="text" style=" width: 100%;">
          </div>
          Цвет:
          <p><input id="id_hex_color" maxlength="7" name="hex_color" type="color" value="#7E7593" >{{form.ColorZone}}</p>

          <p><input type="submit" value="Сохранить изменения"></p>
            <span>{{error}}</span>
        </form>
      </div>
  </div>

  <div id="{{typezone.1}}" class="tabcontent">
      <div>
        <form name="ZoneredactorForm" method="post">
          {% csrf_token %}
          <div style="float: left width: 100%;">
            <input id="{{typezone.1}}" type="text" name="TypeZone" readonly  value="{{typezone.1}}" style="border: none;font-size: 21pt;background-color:#f4f6f9">
          <hr />
          </div>
          <div style="float: left; width: 30%;">
            <input type="checkbox" id="CanYouParkingOnThisArea{{typezone.1}}" name="CanYouParkingOnThisArea">Парковка разрешена
          </div>
          <div style="float: left; width: 70%;">
            <input type="checkbox" id="CanYouScooterOnThisArea{{typezone.1}}" name="CanYouScooterOnThisArea">Поездка разрешена
          </div>

          <div>
            Описание:<br>
            <input type="text" style=" width: 100%;">
          </div>
          Цвет:
          <p><input id="id_hex_color" maxlength="7" name="hex_color" type="color" value="#7E7593" >{{form.ColorZone}}</p>

          <p><input type="submit" value="Сохранить изменения"></p>
            <span>{{error}}</span>
        </form>
      </div>
  </div>

  <div id="{{typezone.2}}" class="tabcontent">
      <div>
        <form name="ZoneredactorForm" method="post">
          {% csrf_token %}
          <div style="float: left width: 100%;">
            <input id="{{typezone.2}}" type="text" name="TypeZone" readonly  value="{{typezone.2}}" style="border: none;font-size: 21pt;background-color:#f4f6f9">
          <hr />
          </div>
          <div style="float: left; width: 30%;">
            <input type="checkbox" id="CanYouParkingOnThisArea{{typezone.2}}" name="CanYouParkingOnThisArea">Парковка разрешена
          </div>
          <div style="float: left; width: 70%;">
            <input type="checkbox" id="CanYouScooterOnThisArea{{typezone.2}}" name="CanYouScooterOnThisArea">Поездка разрешена
          </div>

          <div>
            Описание:<br>
            <input type="text" style=" width: 100%;">
          </div>
          Цвет:
          <p><input id="id_hex_color" maxlength="7" name="hex_color" type="color" value="#7E7593" >{{form.ColorZone}}</p>

          <p><input type="submit" value="Сохранить изменения"></p>
            <span>{{error}}</span>
        </form>
      </div>
  </div>

  <div id="{{typezone.3}}" class="tabcontent">
      <div>
        <form name="ZoneredactorForm" method="post">
          {% csrf_token %}
          <div style="float: left width: 100%;">
            <input id="{{typezone.3}}" type="text" name="TypeZone" readonly  value="{{typezone.3}}" style="border: none;font-size: 21pt;background-color:#f4f6f9">
          <hr />
          </div>
          <div style="float: left; width: 30%;">
            <input type="checkbox" id="CanYouParkingOnThisArea{{typezone.3}}" name="CanYouParkingOnThisArea">Парковка разрешена
          </div>
          <div style="float: left; width: 70%;">
            <input type="checkbox" id="CanYouScooterOnThisArea{{typezone.3}}" name="CanYouScooterOnThisArea">Поездка разрешена
          </div>

          <div>
            Описание:<br>
            <input type="text" style=" width: 100%;">
          </div>
          Цвет:
          <p><input id="id_hex_color" maxlength="7" name="hex_color" type="color" value="#7E7593" >{{form.ColorZone}}</p>

          <p><input type="submit" value="Сохранить изменения"></p>
            <span>{{error}}</span>
        </form>
      </div>
  </div>
  <div id="{{typezone.4}}" class="tabcontent">
      <div>
        <form name="ZoneredactorForm" method="post">
          {% csrf_token %}
          <div style="float: left width: 100%;">
            <input id="{{typezone.4}}" type="text" name="TypeZone" readonly  value="{{typezone.4}}" style="border: none;font-size: 21pt;background-color:#f4f6f9">
          <hr />
          </div>
          <div style="float: left; width: 30%;">
            <input type="checkbox" id="CanYouParkingOnThisArea{{typezone.4}}" name="CanYouParkingOnThisArea">Парковка разрешена
          </div>
          <div style="float: left; width: 70%;">
            <input type="checkbox" id="CanYouScooterOnThisArea{{typezone.4}}" name="CanYouScooterOnThisArea">Поездка разрешена
          </div>

          <div>
            Описание:<br>
            <input type="text" style=" width: 100%;">
          </div>
          Цвет:
          <p><input id="id_hex_color" maxlength="7" name="hex_color" type="color" value="#7E7593" >{{form.ColorZone}}</p>

          <p><input type="submit" value="Сохранить изменения"></p>
            <span>{{error}}</span>
        </form>
      </div>
  </div>
</div>
<script>
window.addEventListener("load", startup, false);


var massiv  = {{massiv|safe}}
namesTypeOfZone = Object.keys(massiv);
console.log(namesTypeOfZone.length)
for (i in namesTypeOfZone){
  CanYouParkingOnThisArea = massiv[namesTypeOfZone[i]]
<!--  console.log(namesTypeOfZone[i])-->
  if (CanYouParkingOnThisArea[1] ==true){
    console.log(namesTypeOfZone[i])
    id = 'CanYouParkingOnThisArea'+namesTypeOfZone[i]
    console.log(id)
    CheckParking= document.getElementById(id)
    CheckParking.checked = "checked"
  }
  if (CanYouParkingOnThisArea[2] ==true){
    id = 'CanYouScooterOnThisArea'+namesTypeOfZone[i]
    CheckScooter= document.getElementById(id)
    CheckScooter.checked = "checked"
  }
  i=i+1
}


function watchColorPicker(event) {
document.getElementById('id_ColorZone').value=document.getElementById('id_hex_color').value
}
function startup() {
  colorWell = document.querySelector("#id_hex_color");
  colorWell.addEventListener("input", watchColorPicker, false);
  colorWell.addEventListener("change", watchColorPicker, false);
  colorWell.select();
  document.getElementById('id_hex_color').value='{{datacolor.0}}'
  document.getElementById('id_ColorZone').value='{{datacolor.0}}'
}

var ColorTypeOfzone = {{datacolor|safe}}

function openZone(cityName,elmnt,color) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablink");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].style.backgroundColor = "";
    }
    document.getElementById(cityName).style.display = "block";
    elmnt.style.backgroundColor = color;

}
// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
</script>
{% endblock %}

